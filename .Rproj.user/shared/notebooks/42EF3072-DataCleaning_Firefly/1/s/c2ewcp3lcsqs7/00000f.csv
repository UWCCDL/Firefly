"0",""
"0","# Create table for reactable"
"0","cleandata_reactable <- cleandata %>% "
"0","  group_by(userId) %>%"
"0","   summarise(points =length(lessonId),"
"0","             TotalMeanAlpha = mean(alpha), "
"0","             TotalMeanAccuracy = mean(correct), "
"0","             reactionTimeavg = mean(reactionTime),"
"0","             TotalMeanResponseTime = mean(reactionTimeavg))"
"0",""
"0","cleandata_reactable2 <- cleandata %>%"
"0","  group_by(userId, lessonId, alpha) %>%"
"0","    summarise(lessonId, alpha) %>%"
"0","    pivot_wider(names_from=lessonId, values_from = alpha)"
"0",""
"0","scoreboarddata <- inner_join(cleandata_reactable,cleandata_reactable2)"
"0",""
"0","names(scoreboarddata) <- gsub("" "", ""_"", names(scoreboarddata)) # replace spaces with ""_"""
"0",""
"0","scoreboarddata <- scoreboarddata %>%"
"0","  replace(is.na(.), FALSE) # replace NA with FALSE"
"0",""
"0","#knowledge <- cleandata_lastRep %>%"
"0","#  select(""screen_name"", ""userId"", ""lessonId"", ""answer"", ""factId"", #""alpha"")"
"0",""
"0","# Get number of facts seen and add it to the reactable"
"0","cd1 <-   cleandata %>% "
"0","  group_by(userId, lessonId, factId) %>% "
"0","   summarize(numfacts=length(unique(factId)))"
"0",""
"0","cd2 <- cd1 %>% "
"0","  group_by(userId) %>% "
"0","  summarize(numlessons=length(unique(lessonId))) %>%"
"0","  ungroup()"
"0",""
"0","cd3 <- cd1 %>%"
"0","  inner_join(cd2)"
"0",""
"0",""
"0","options(digits=3) "
"0",""
"0","cd4 <- cd3 %>%"
"0","  group_by(userId, numlessons, lessonId, factId) %>% "
"0","  pivot_wider(names_from=factId, values_from = numfacts)%>%"
"0","  replace(is.na(.), 0) %>%"
"0","  mutate(sumfacts = sum(c_across(where(is.numeric)))) %>%"
"0","  summarize(Avg=(sumfacts))  %>%"
"0","  pivot_wider(names_from=lessonId, values_from = Avg) %>%"
"0","  replace(is.na(.), 0) %>%"
"0","  mutate(Avg = ((sum(across(where(is.numeric))))/(numlessons)), .after = numlessons) %>%"
"0","  mutate(sd = ((sd(across(where(is.numeric))))/(numlessons)))"
"0",""
"0","scoreboarddata$TotalFactAvg <- cd4$Avg"
"0","scoreboarddata$TotalFactAvgSD <- cd4$sd"
"0",""
"0",""
