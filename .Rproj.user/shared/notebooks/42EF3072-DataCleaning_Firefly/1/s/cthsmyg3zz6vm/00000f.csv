"0","options(dplyr.summarise.inform = FALSE) # Disable the ""`summarise()` has grouped output by"" message "
"0",""
"0","# Filter the sessions by total time"
"0","sessionData <- data %>% "
"0","  group_by(user_id, lesson_title) %>% "
"0","  summarize(duration = (max(presentation_start_time) - min(presentation_start_time))/60000,"
"0","            start = min(presentation_start_time),"
"0","            legit = if_else(duration > 6, T, F)) "
"0",""
"0","sessionData <- sessionData %>% "
"0","  group_by(user_id, lesson_title) %>% "
"0","  arrange(start, by_group=T) %>%"
"0","  mutate(sessionRank = seq(1, length(start)))"
"0",""
"0","#sessionDataFiltered <- sessionData %>%"
"0","#  filter(legit == T) %>%"
"0","#  group_by(user_id, lesson_title) %>%"
"0","#  mutate(minRank = min(sessionRank))"
"0",""
"0","#sessionData <- sessionData %>%"
"0","#  inner_join(sessionDataFiltered) %>%"
"0","#  mutate(usable = if_else(minRank == sessionRank, T, F))"
"0",""
"0","# Clean the filtered data set"
"0","cleandata <- inner_join(sessionData, data)"
"0",""
"0","# Add a column 'factText' for future graphs"
"0","cleandata <- cleandata %>%"
"0","  mutate(factText = fact_id)"
"0","cleandata$factText <- as.character(cleandata$factText)"
"0",""
"0","cleandata <- cleandata %>%"
"0","  rename(presentationStartTime = presentation_start_time)%>%"
"0","  rename(userId = user_id)%>%"
"0","  rename(lessonId = lesson_title) %>%"
"0","  rename(sessionTime = session_time) %>%"
"0","  rename(factId = fact_id) %>%"
"0","  rename(reactionTime = reaction_time)"
"0",""
"0","# Calculate fact rep "
"0","MAX_ALPHA=0.8"
"0","cleandata <- cleandata %>%"
"0","  calculate_repetition()"
"1","This may take a moment... 
"
"1","Done! 
"
"0","#%>%"
"0","#  calculate_alpha_and_activation(maxAlpha=MAX_ALPHA)"
"0",""
"0","# Change reactionTime from ms to s"
"0","cleandata$reactionTime <- (cleandata$reactionTime/1000) "
"0",""
"0","# Change userId from numerical to character for future graphs  "
"0","cleandata$userId <- as.character(cleandata$userId) "
"0",""
"0","cleandata <- cleandata %>% select(-c(""duration"", ""sessionRank"", ""cue_text"", ""sequence_number"", ""presented_cue_text_index"", ""presented_image_index"", ""backspace_used"", ""backspaced_first_letter"", ""number_of_choices""))"
