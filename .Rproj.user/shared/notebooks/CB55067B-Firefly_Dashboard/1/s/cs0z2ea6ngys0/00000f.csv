"0",""
"0","recovered_blc1 <- recovered_blc %>%"
"0","  mutate(observed = if_else(prior_knowledge == 1, 1, -1))"
"0",""
"0","curve = NULL"
"0","for (cutoff in seq(-1, 1.5, 0.1)) {"
"0","  subthreshold <- recovered_blc1 %>%"
"0","    mutate(prediction = ifelse(BLC <= cutoff, -1, 1)) %>%"
"0","    mutate(observed = if_else(prior_knowledge == 1, 1, -1)) %>% "
"0","    mutate(accuracy = ifelse(prediction == observed, 1, 0)) %>%"
"0","    group_by(observed) %>%"
"0","    summarise(accuracy = mean(accuracy))"
"0","  "
"0","  tnr <- subthreshold %>% "
"0","    filter(observed == -1) %>% "
"0","    dplyr::select(accuracy) %>%"
"0","    as.numeric()"
"0","  "
"0","  tpr <- subthreshold %>% "
"0","    filter(observed == 1) %>% "
"0","    dplyr::select(accuracy) %>%"
"0","    as.numeric()"
"0","  "
"0","  partial <- tibble(Threshold = cutoff,"
"0","                    TNR = tnr,"
"0","                    TPR = tpr)"
"0","  if (is.null(curve)) {"
"0","    curve <- partial"
"0","  } else {"
"0","    curve <- rbind(curve, partial)"
"0","  }"
"0","}"
